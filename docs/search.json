[
  {
    "objectID": "04_mapme_biodiversity.html",
    "href": "04_mapme_biodiversity.html",
    "title": "4  L’outil mapme.biodiversity",
    "section": "",
    "text": "4.1 Démarche\nLe package mapme.biodiversity facilite l’analyse statistique de la biodiversité ou d’autres politiques et projets spatialisés. Il propose divers indicateurs pour évaluer la préservation de l’environnement et les activités humaines. Le package est conçu pour permettre des extensions futures grâce à des ressources et des indicateurs personnalisés.\nLe package fournit une interface unifiée pour télécharger et analyser différents jeux de données spatiales, gérant la complexité liée aux divers formats. Il simplifie l’accès aux données en interagissant avec plusieurs backends utilisés par les organisations qui distribuent ces données. Les utilisateurs peuvent contrôler l’analyse en sélectionnant les indicateurs à calculer, permettant ainsi un ajustement précis des processus.\nPour commencer, les utilisateurs saisissent un objet sf contenant uniquement des géométries de type polygone. Le package télécharge ensuite les données raster et vecteur spatiales et temporelles nécessaires correspondant à l’étendue du portefeuille. Les résultats sont ajoutés sous forme de colonnes de listes imbriquées dans l’objet portefeuille, permettant une utilisation aisée d’une large gamme d’indicateurs dans R.\nLe processus d’utilisation est le suivant :\nCode\nlibrary(DiagrammeR) # Package R pour produire des diagrammes Mermaid\n\n#| fig-cap: \"Processus de traitement avec mapme.biodiversity\"\n\nmermaid(\"\ngraph TB\n    AA(Définition des polygones d'analyse)\n    A(Définition des options)\n    B(Acquisition des ressources)\n    C(Calcul des indicateurs)\n    D(Analyse statistique avec R)\n    E(Export vers QGIS ou autre)\n    AA--&gt;A\n    A--&gt;B\n    B--&gt;C\n    C--&gt;D\n    C--&gt;E\n\")",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>L'outil mapme.biodiversity</span>"
    ]
  },
  {
    "objectID": "04_mapme_biodiversity.html#démarche",
    "href": "04_mapme_biodiversity.html#démarche",
    "title": "4  L’outil mapme.biodiversity",
    "section": "",
    "text": "Logo Mapme",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>L'outil mapme.biodiversity</span>"
    ]
  },
  {
    "objectID": "04_mapme_biodiversity.html#tutoriel-pratique-avec-mapme.biodiversity",
    "href": "04_mapme_biodiversity.html#tutoriel-pratique-avec-mapme.biodiversity",
    "title": "4  L’outil mapme.biodiversity",
    "section": "4.2 Tutoriel pratique avec mapme.biodiversity",
    "text": "4.2 Tutoriel pratique avec mapme.biodiversity\nNous allons maintenant découvrir comment utiliser le package mapme.biodiversity de manière pratique. Pour cela, nous allons travailler avec le jeu de données data/AP_Vahatra.geojson, qui contient des informations sur les aires protégées à Madagascar.\n\n4.2.1 Charger les données d’aires protégées\nNous allons commencer par charger notre jeu de données d’aires protégées, qui est stocké au format GeoJSON.\n\n\nCode\nlibrary(mapme.biodiversity)\nlibrary(sf)\nlibrary(tidyverse)\nlibrary(tmap)\nlibrary(progressr) # Pour avoir des bares de progression\nlibrary(tictoc) # Pour minuter des temps d'exécution\nlibrary(future) # Pour permettre du calcul parallèle\n\n# Charger le jeu de données AP_Vahatra\nAP_Vahatra &lt;- st_read(\"data/AP_Vahatra.geojson\", quiet = TRUE)\n\n\n\n\n4.2.2 Définir les options standard avec mapme_options\nAvant d’acquérir les ressources, nous devons définir certaines options pour le package, comme le répertoire de sortie.\n\n\nCode\n# Définir le répertoire de sortie\nmapme_options(outdir = \"data/mapme\")\n\n\n\n\n4.2.3 Exploration des indicateurs et des ressources disponibles\nAvant de se lancer dans l’acquisition des ressources, il est important de comprendre ce que le package peut faire. Utilisons les fonctions available_indicators() et available_resources() pour explorer les indicateurs et ressources disponibles.\n\n\nCode\n# Explorer les indicateurs disponibles\navailable_indicators()\n\n\n# A tibble: 38 × 3\n   name                          description                           resources\n   &lt;chr&gt;                         &lt;chr&gt;                                 &lt;list&gt;   \n 1 biodiversity_intactness_index Averaged biodiversity intactness ind… &lt;tibble&gt; \n 2 biome                         Areal statistics of biomes from TEOW  &lt;tibble&gt; \n 3 burned_area                   Monthly burned area detected by MODI… &lt;tibble&gt; \n 4 deforestation_drivers         Areal statistics of deforestation dr… &lt;tibble&gt; \n 5 drought_indicator             Relative wetness statistics based on… &lt;tibble&gt; \n 6 ecoregion                     Areal statstics of ecoregions based … &lt;tibble&gt; \n 7 elevation                     Statistics of elevation based on NAS… &lt;tibble&gt; \n 8 exposed_population            Number of people exposed to conflict… &lt;tibble&gt; \n 9 fatalities                    Number of fatalities by group of con… &lt;tibble&gt; \n10 gsw_change                    Statistics of the surface water chan… &lt;tibble&gt; \n# ℹ 28 more rows\n\n\nCode\n# Explorer les ressources disponibles\navailable_resources()\n\n\n# A tibble: 34 × 5\n   name                          description                licence source type \n   &lt;chr&gt;                         &lt;chr&gt;                      &lt;chr&gt;   &lt;chr&gt;  &lt;chr&gt;\n 1 accessibility_2000            Accessibility data for th… See JR… https… rast…\n 2 biodiversity_intactness_index Biodiversity Intactness I… CC-BY-… https… rast…\n 3 chelsa                        Climatologies at High res… Unknow… https… rast…\n 4 chirps                        Climate Hazards Group Inf… CC - u… https… rast…\n 5 esalandcover                  Copernicus Land Monitorin… CC-BY … https… rast…\n 6 fritz_et_al                   Drivers of deforestation … CC-BY … https… rast…\n 7 gfw_emissions                 Global Forest Watch - CO2… CC-BY … https… rast…\n 8 gfw_lossyear                  Global Forest Watch - Yea… CC-BY … https… rast…\n 9 gfw_treecover                 Global Forest Watch - Per… CC-BY … https… rast…\n10 global_surface_water_change   Global Surface Water - Ch… https:… https… rast…\n# ℹ 24 more rows\n\n\nCes fonctions permettent de voir la liste des indicateurs et ressources que le package propose. Vous pouvez également consulter l’aide en ligne pour chaque indicateur ou ressource afin de mieux comprendre leur utilité.\n\nExercice : Quelles ressources sont disponibles pour calculer la pente, l’altitude, la distance aux villes, le couvert forestier annuel et la densité de population ? Consultez régulièrement cette liste, car elle peut évoluer au fil des mises à jour du package.\n\n\n\n4.2.4 Acquisition des ressources nécessaires\nNous allons maintenant acquérir les ressources spatiales nécessaires pour nos analyses. Le package mapme.biodiversity propose un large éventail de ressources, notamment des données d’altitude, de couvert forestier, et de temps de déplacement jusqu’à une ville.\n\n\nCode\n# Acquérir les ressources pour l'élévation\nAP_Vahatra &lt;- get_resources(\n  x = AP_Vahatra,\n  get_nasa_srtm()\n)\n\n# Calculer l'indicateur d'élévation\n\ntic() # On lance un minuteur\nwith_progress({\n  AP_Vahatra &lt;- AP_Vahatra %&gt;%\n    calc_indicators(calc_elevation())\n})\ntoc() # On relève le minuteur, 123 secondes sur mon test\n\n\n\n\n4.2.5 Parallélisation avec {future}\nLe package mapme.biodiversity suit le paradigme de calcul parallèle du package {future}. Cela signifie que vous, en tant qu’utilisateur, pouvez décider de configurer le calcul en parallèle ou non. Depuis la version 0.9 de {mapme.biodiversity}, un pré-découpage est appliqué à tous les actifs du portefeuille, ce qui permet de diviser les actifs en composantes de taille approximativement égale. Ces composantes peuvent ensuite être itérées en parallèle afin d’accélérer le traitement. Les valeurs des indicateurs seront ensuite agrégées automatiquement.\nVoici un exemple d’utilisation de la parallélisation avec le plan cluster, qui permet de répartir les calculs sur plusieurs cœurs de votre machine :\n\n\nCode\nplan(cluster, workers = 6)\n\n# tic() # On lance un minuteur\nwith_progress({\n  AP_Vahatra &lt;- AP_Vahatra %&gt;%\n    calc_indicators(calc_elevation())\n})\n\nplan(sequential) # On libère les processus parallèles réservés\n# toc() # On relève le minuteur, 69 secondes sur mon test\n\n\n\n\n4.2.6 Acquisition des autres ressources\n\n\nCode\n# Acquérir les ressources pour la pente, le couvert forestier et le temps de déplacement\nwith_progress({\n  AP_Vahatra &lt;- AP_Vahatra %&gt;%\n    get_resources(get_gfw_treecover(),\n                  get_gfw_lossyear(),\n                  get_nelson_et_al(ranges = \"5k_110mio\")\n  )\n})\n\n\n\n\n4.2.7 Calcul des indicateurs\nAprès l’acquisition des ressources, nous allons calculer les indicateurs pour chaque polygone de notre portefeuille. Les indicateurs permettent de synthétiser les informations spatiales pour chaque entité géographique (aire protégée) de notre jeu de données.\n\n\nCode\nplan(cluster, workers = 6)\n# tic()\nwith_progress({\n  AP_Vahatra &lt;- AP_Vahatra %&gt;%\n    calc_indicators(\n      calc_slope(),\n      calc_treecover_area(years = 2000:2023, min_size = 1, min_cover = 30),\n      calc_traveltime()\n    )\n})\nplan(sequential)\n# toc() # 331 secondes\n\n\n\n\n4.2.8 Visualisation des résultats\nPour visualiser les résultats, nous allons utiliser le package tmap. Cela nous permettra de cartographier certaines des valeurs d’indicateurs calculées, telles que l’élévation moyenne ou la couverture forestière des aires protégées.\n\n\nCode\n# Visualiser les aires protégées colorées par l'élévation moyenne\ntmap_mode(\"view\")\nAP_Vahatra %&gt;%\n  portfolio_long() %&gt;%\n  filter(variable == \"elevation_mean\") %&gt;%\n  tm_shape() +\n  tm_polygons(col = \"value\", title = \"Altitude Moyenne (m)\")",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>L'outil mapme.biodiversity</span>"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Evaluation d’impact de politiques et projets",
    "section": "",
    "text": "Preface",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#démarche",
    "href": "index.html#démarche",
    "title": "Evaluation d’impact de politiques et projets",
    "section": "Démarche",
    "text": "Démarche\nCe contenu est un support de formation conçu pour initier à l’économétrie spatiale chercheurs, doctorants et étudiants s’orientant vers une thèse. Le cas d’étude choisi pour servir de fil rouge à ces travaux est l’impact des aires protégées sur la déforestation, mais les méthodes décrites sont appropriées pour évaluer de nombreux types d’intervention ayant une dimension spatiale, que ce soit en matière d’environnement, d’agriculture, de gestion des risques ou de développement urbain. Le document a été élaboré avec les priorités suivantes :\n\nCompréhension des enjeux théoriques et méthodologiques soulevés par les évaluations d’impact ;\nIdentification des spécificités et opportunités liées à l’évaluation d’interventions spatialisées ;\nObtention de données spatiale permettant de démontrer et de quantifier l’impact ;\nCompréhension des différentes approches pour constituer un contrefactuel : randomisation, appariement, comparaison avant-après, différence de différences ;\nFamiliarisation avec l’outil de traitement statistique R;\nDéveloppement d’un regard critique sur la pertinence et la fiabilité des données mobilisées.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#tany-vao-et-betsaka",
    "href": "index.html#tany-vao-et-betsaka",
    "title": "Evaluation d’impact de politiques et projets",
    "section": "Tany Vao et BETSAKA",
    "text": "Tany Vao et BETSAKA\nCe contenu a été initialement développé afin de servir de support pédagogique pour l’atelier “évaluation des politiques” de la session 2022 des Universités en sciences sociales Tany Vao. Les universités Tany Vao visent à dispenser une formation à la recherche de haut niveau à l’attention de doctorants et jeunes chercheurs de Madagascar et d’Afrique de l’Ouest. Cet atelier a été réitéré à l’Université d’Antananarivo en 2023 et 2024 dans le cadre du projet BETSAKA. Le projet BETSAKA vise à évaluer l’impact environnemental et socioéconomique des politiques de conservation à Madagascar, en priorisant le renforcement des capacités locales de rercherche et le dialogue chercheurs-décideurs-opérationnels.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "index.html#contributions",
    "href": "index.html#contributions",
    "title": "Evaluation d’impact de politiques et projets",
    "section": "Contributions",
    "text": "Contributions\nCet ouvrage a bénéficié de nombreuses contributions :\n\nPour la première édition : Marc Bouvier, Kenneth Houngbedji, Jeanne de Montalembert et Marin Ferry ;\nPour la seconde édition : Lenaïg Moign et Clément Sambandahy ;\nPour la troisième édition : Ingrid Dallmann et Melvin Wong.",
    "crumbs": [
      "Preface"
    ]
  },
  {
    "objectID": "10_synthese.html",
    "href": "10_synthese.html",
    "title": "10  Synthèse",
    "section": "",
    "text": "D’autres méthodes quantitatives existent : RDD, synthetic controls.\nEnjeux de croisement des méthodes.",
    "crumbs": [
      "<span class='chapter-number'>10</span>  <span class='chapter-title'>Synthèse</span>"
    ]
  },
  {
    "objectID": "11_references.html",
    "href": "11_references.html",
    "title": "Bibliographie",
    "section": "",
    "text": "Barnier, Julien. 2022. “Introduction à R Et Au\nTidyverse.” https://juba.github.io/tidyverse/index.html.\n\n\nDevenish, Katie, Sébastien Desbureaux, Simon Willcock, and Julia P. G.\nJones. 2022. “On Track to Achieve No Net Loss of Forest at\nMadagascar’s Biggest Mine.” Nature\nSustainability 5 (6): 498–508. https://doi.org/10.1038/s41893-022-00850-7.\n\n\nGaliana, Lino, and Olivier Meslin, eds. 2022. “utilitR:\nDocumentation Collaborative Sur r.” https://www.book.utilitr.org/.\n\n\nGörgen, Darius A., and Om Prakash Bhandari. 2022.\nMapme.biodiversity: Efficient Monitoring of Global Biodiversity\nPortfolios. https://CRAN.R-project.org/package=mapme.biodiversity.\n\n\nGrolemund, Garrett, and Hadley Wickham. 2022. R for Data Science:\nImport, Tidy, Transform, Visualize, and Model Data. 1st edition.\nSebastopol, CA: O’Reilly Media. https://r4ds.had.co.nz/.\n\n\nLarmarange, Joseph. 2024. Guide-r : Guide Pour l’analyse de Données\nd’enquêtes Avec r. https://larmarange.github.io/guide-R/.\n\n\nLovelace, Robin, Jakub Nowosad, and Jannes Muenchow. 2022.\nGeocomputation with R. Boca Raton London New York: Routledge.\nhttps://geocompr.robinlovelace.net/.\n\n\nWolf, Christopher, Taal Levi, William J. Ripple, Diego A.\nZárrate-Charry, and Matthew G. Betts. 2021. “A Forest Loss Report\nCard for the World’s Protected Areas.” Nature Ecology &\nEvolution 5 (4): 520–29. https://doi.org/10.1038/s41559-021-01389-0.",
    "crumbs": [
      "Bibliographie"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html",
    "href": "05_experimentations_aleatoires.html",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "",
    "text": "5.1 Mise en pratique",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html#mise-en-pratique",
    "href": "05_experimentations_aleatoires.html#mise-en-pratique",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "",
    "text": "ATTENTION : Il va de soi que les AP malgaches n’ont à aucun moment été assignées aléatoirement. Lors de cette séquence, on fait “comme si”, pour montrer la manière dont les données sont analysées quand il y a eu assignation aléatoire. On verra en fin de session les limites d’une telle approche et dans les suivantes des manières de construire des contrefactuels plus vraisemblables pour un sujet comme celui-ci.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html#préparation-des-données",
    "href": "05_experimentations_aleatoires.html#préparation-des-données",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "5.2 Préparation des données",
    "text": "5.2 Préparation des données\nPour commencer, on charge les librairies requises (après les avoir installées si nécessaire).\n\n\nCode\n# On charge les librairies utiles pour cette analyse\nlibrary(tidyverse) # Facilite la manipulation de données\nlibrary(gt) # Aide à formater de jolis tableaux de rendu\nlibrary(broom) # Aide à formater les rendus de régressions\nlibrary(stargazer) # idem\nlibrary(sf) # Pour les données spatiales\nlibrary(lubridate) # Pour gérer des dates\nlibrary(htmltools)\nlibrary(mapme.biodiversity)\nlibrary(units)\n\n# Désactiver les notations scientifiques\noptions(scipen = 999)\n\n# On charge AP_Vahatra\nAP_Vahatra &lt;- read_rds(\"data/AP_Vahatra_mapme.rds\")",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html#analyse-des-équilibres-initiaux",
    "href": "05_experimentations_aleatoires.html#analyse-des-équilibres-initiaux",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "5.3 Analyse des équilibres initiaux",
    "text": "5.3 Analyse des équilibres initiaux\nOn commence par vérifier s’il existe des déséquilibres flagrants entre les aires qui ont été protégées avant 2015 et celles qui ont été protégées en 2015, en matière de surface totale ou de part couverte par des forêts en 2000.\n\n\nCode\nlibrary(units)\n\n# Correctly define variables with units\nAP_RCT &lt;- AP_Vahatra %&gt;%\n  portfolio_wide() %&gt;% \n  mutate(Groupe = ifelse(year(date_creation) &lt; 2015, \"Traitement\", \"Contrôle\"),\n         `Couvert forestier en 2000` = `treecover_area_2000-01-01_treecover_ha`,\n         `Surface (ha)` = as.numeric(st_area(AP_Vahatra)) / 10000,\n         `Couvert forestier en 2000 (%)` = `Couvert forestier en 2000` / `Surface (ha)`)\n\n# On fait une série de tests de comparaison de moyenne\nt_tests &lt;- AP_RCT %&gt;%\n  st_drop_geometry() %&gt;%\n  summarise(across(`Surface (ha)`:`Couvert forestier en 2000 (%)`,\n                   ~ t.test(.[Groupe == \"Contrôle\"], .[Groupe == \"Traitement\"])$p.value)) %&gt;%\n  mutate(Groupe = \"t-test\")\n\nequilibre_avant &lt;- AP_RCT %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(Groupe) %&gt;%\n  summarise(`Nombre d'aires` = n(),\n            `Surface (ha)` = mean(`Surface (ha)`),\n            `Couvert forestier en 2000 (%)` = mean(`Couvert forestier en 2000 (%)`, na.rm = TRUE)) %&gt;%\n  bind_rows(t_tests) %&gt;%\n  mutate(across(!Groupe, ~round(., 2)))\n\n# Ce qui suit est une série d'opérations pour formater le rendu en tableau\nequilibre_avant %&gt;%\n  t() %&gt;%\n  as.data.frame() %&gt;%\n  tibble::rownames_to_column() %&gt;%\n  `colnames&lt;-` (filter(., row_number() == 1)) %&gt;%\n  filter(row_number() != 1) %&gt;%\n  gt() %&gt;%\n  tab_header(title = \"Équilibre des variables avant intervention\",\n             subtitle = \"(exercice : \\\"comme si\\\" c'était une RCT)\") %&gt;%\n  tab_source_note(\"Source : Association Vahatra et données GFC\")\n\n\n\n\n\n\n\n\nÉquilibre des variables avant intervention\n\n\n(exercice : \"comme si\" c'était une RCT)\n\n\nGroupe\nContrôle\nTraitement\nt-test\n\n\n\n\nNombre d'aires\n53\n45\nNA\n\n\nSurface (ha)\n66539.77\n63728.00\n0.88\n\n\nCouvert forestier en 2000 (%)\n0.62\n0.72\n0.14\n\n\n\nSource : Association Vahatra et données GFC\n\n\n\n\n\n\n\n\n\nExercice : Analysez le résultat de cette table.\n\nEn moyenne, les deux groupes sont assez proches en termes de surface et de couvert forestier, et le test de Student ne permet pas de rejeter l’hypothèse nulle concernant une différence de moyenne sur ces critères.",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html#différences-de-déforestation-après-intervention",
    "href": "05_experimentations_aleatoires.html#différences-de-déforestation-après-intervention",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "5.4 Différences de déforestation “après intervention”",
    "text": "5.4 Différences de déforestation “après intervention”\nOn va maintenant s’intéresser aux différences de déforestation observées “après intervention” dans le groupe de traitement, entre 2000 et 2014.\n\n\nCode\n# Calculer le taux annuel de déforestation moyen pour la période 2000-2014\n\nAP_RCT &lt;- AP_RCT %&gt;%\n  mutate(taux_deforestation_2000_2014 = \n           -((`treecover_area_2014-01-01_treecover_ha` / \n              `treecover_area_2000-01-01_treecover_ha`)^(1/14) - 1) * 100)\n\n# Comparer les taux de déforestation moyens entre les groupes\ncomparaison_deforestation &lt;- AP_RCT %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(Groupe) %&gt;%\n  summarise(`Taux annuel de déforestation moyen 2000-2014 (%)` = \n              mean(taux_deforestation_2000_2014, na.rm = TRUE)) %&gt;%\n  mutate(across(!Groupe, ~round(., 2)))\n\n# Ce qui suit est une série d'opérations pour formater le rendu en tableau\ncomparaison_deforestation %&gt;%\n  t() %&gt;%\n  as.data.frame() %&gt;%\n  tibble::rownames_to_column() %&gt;%\n  `colnames&lt;-` (filter(., row_number() == 1)) %&gt;%\n  filter(row_number() != 1) %&gt;%\n  gt() %&gt;%\n  tab_header(title = \"Moyennes des taux annuels de déforestation\",\n             subtitle = \"(exercice : \\\"comme si\\\" c'était une RCT)\") %&gt;%\n  tab_source_note(\"Source : Association Vahatra et données GFC\")\n\n\n\n\n\n\n\n\nMoyennes des taux annuels de déforestation\n\n\n(exercice : \"comme si\" c'était une RCT)\n\n\nGroupe\nContrôle\nTraitement\n\n\n\n\nTaux annuel de déforestation moyen 2000-2014 (%)\n0.70\n0.35\n\n\n\nSource : Association Vahatra et données GFC\n\n\n\n\n\n\n\n\n\nExercice : Commentez le résultat de cette table.\n\nOn peut également réaliser une régression simple, qu’on présente selon le format courant pour la littérature en économie grâce au package {stargazer} (Hlavac 2022).\n\n\nCode\n# On exécute une régression pour la période 2000-2014\ndef_2000_2014 &lt;- lm(taux_deforestation_2000_2014 ~ Groupe, data = AP_RCT)\n\n# On consolide les résultats des régressions dans une table qu'on formate\n# avec le package stargazer\nrct_out1 &lt;- stargazer(def_2000_2014, type = \"html\",\n          title = \"Impact de la conservation sur la perte de couvert forestier\",\n          notes = \"Données : Association Vahatra et données GFC\")  \n\n\n\n\n\n\nImpact de la conservation sur la perte de couvert forestier\n\n\n\n\n\n\nDependent variable:\n\n\n\n\n\n\n\ntaux_deforestation_2000_2014\n\n\n\n\n\nGroupeTraitement\n-0.349**\n\n\n\n(0.152)\n\n\n\n\n\n\nConstant\n0.699***\n\n\n\n(0.103)\n\n\n\n\n\n\n\n\n\nObservations\n97\n\n\nR2\n0.052\n\n\nAdjusted R2\n0.042\n\n\nResidual Std. Error\n0.747 (df = 95)\n\n\nF Statistic\n5.255** (df = 1; 95)\n\n\n\n\n\nNote:\n*p&lt;0.1; **p&lt;0.05; ***p&lt;0.01\n\n\n\nDonnées : Association Vahatra et données GFC\n\n\n\n\n\n\n\nExercice : Analysez le résultat de cette table. Qu’est-ce qu’elle suggère ?",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "05_experimentations_aleatoires.html#analyse-des-variables-topologiques-et-de-laccessibilité",
    "href": "05_experimentations_aleatoires.html#analyse-des-variables-topologiques-et-de-laccessibilité",
    "title": "5  Expérimentations par assignation aléatoire",
    "section": "5.5 Analyse des variables topologiques et de l’accessibilité",
    "text": "5.5 Analyse des variables topologiques et de l’accessibilité\nOn analyse ensuite la relation aux variables topologiques (altitude, pente) et de temps de trajet à la ville la plus proche en 2015. Le seuil retenu ici pour considérer une localité comme une ville est qu’elle ait au moins 5000 habitants.\n\n\nCode\n# On fait une série de tests de comparaison de moyenne pour les variables topologiques\n\nt_tests_topo &lt;- AP_RCT %&gt;% \n  st_drop_geometry() %&gt;%\n  summarise(across(c(`elevation_2000-02-01_elevation_mean_m`, \n                   `slope_2000-02-01_slope_mean_degrees`, \n                   `traveltime_2015-01-01_5k_110mio_traveltime_mean_minutes`),\n                   ~ t.test(as.numeric(.[Groupe == \"Contrôle\"]), as.numeric(.[Groupe == \"Traitement\"]))$p.value)) %&gt;% \n  rename(`Altitude moyenne (m)` = `elevation_2000-02-01_elevation_mean_m`,\n         `Pente moyenne (degrés)` = `slope_2000-02-01_slope_mean_degrees`,\n         `Temps de trajet moyen (minutes)` = \n           `traveltime_2015-01-01_5k_110mio_traveltime_mean_minutes`) %&gt;%\n  mutate(Groupe = \"t-test\")\n\nequilibre_topo &lt;- AP_RCT %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(Groupe) %&gt;%\n  summarise(`Nombre d'aires` = n(),\n            `Altitude moyenne (m)` = mean(`elevation_2000-02-01_elevation_mean_m`, na.rm = TRUE),\n            `Pente moyenne (degrés)` = mean(`slope_2000-02-01_slope_mean_degrees`, na.rm = TRUE),\n            `Temps de trajet moyen (minutes)` = mean(`traveltime_2015-01-01_5k_110mio_traveltime_mean_minutes`, na.rm = TRUE)) %&gt;%\n  bind_rows(t_tests_topo) %&gt;% \n  mutate(across(!Groupe, ~round(., 2)))\n\n# Ce qui suit est une série d'opérations pour formater le rendu en tableau\nequilibre_topo %&gt;%\n  t() %&gt;%\n  as.data.frame(",
    "crumbs": [
      "<span class='chapter-number'>5</span>  <span class='chapter-title'>Expérimentations par assignation aléatoire</span>"
    ]
  },
  {
    "objectID": "08_appariement.html",
    "href": "08_appariement.html",
    "title": "8  Méthodes d’appariement",
    "section": "",
    "text": "8.1 La question de la comparabilité des groupes\nOn a vu dans le chapitre précédent que les comparaisons simples réalisées entre les premières et les dernières aires à avoir été formellement protégées pose problème.\nOn va maintenant chercher à renforcer la comparabilité entre le groupe de traitement et le groupe de contrôle en réalisant un appariemment (cf. diapos de présentation).\nOn va utiliser le package {MatchIt} : ne pas hésiter à se référer à la documentation du package.\nOn va commencer par réaliser quelques ajustements, car {MatchIt} requiert qu’aucune valeur des variables mobilisées ne soit manquante. On va donc retirer les observations comportant des NA.\nCode\nlibrary(tidyverse) # Simplifie la manipulation de données\nlibrary(lubridate) # Simplifie les opérations sur des dates\nlibrary(sf) # Pour traiter les données spatiales\nlibrary(MatchIt) # Pour réaliser les appariements.\nlibrary(cobalt) # Pour les tests d'équilibre sur l'appariement\nlibrary(gt) # Pour faire de jolies tables\nlibrary(stargazer) # Pour présenter les résultats de régressions\nlibrary(mapme.biodiversity)\nlibrary(htmltools)\n\n# Désactiver les notations scientifiques\noptions(scipen = 999)\n\n# Charger les données\nAP_Vahatra &lt;- read_rds(\"data/AP_Vahatra_mapme.rds\") %&gt;%\n  portfolio_wide() %&gt;%\n  mutate(Groupe = ifelse(year(date_creation) &lt; 2015, \"Traitement\", \"Contrôle\"))\n\n# Préparer les données sans valeurs manquantes\nVahatra_defor_noNA &lt;- AP_Vahatra %&gt;%\n  mutate(surface_ha = as.numeric(st_area(AP_Vahatra)) / 10000, \n         couv_foret_2000 = `treecover_area_2000-01-01_treecover_ha` / surface_ha * 100,\n         altitude = `elevation_2000-02-01_elevation_mean_m`,\n         indice_accidente = `slope_2000-02-01_slope_mean_degrees`,\n         dist_ville = `traveltime_2015-01-01_5k_110mio_traveltime_mean_minutes`,\n         traitement = ifelse(year(date_creation) &lt; 2015, 1, 0),\n         taux_deforestation_2000_2014 = \n           -((`treecover_area_2014-01-01_treecover_ha` / \n              `treecover_area_2000-01-01_treecover_ha`)^(1/14) - 1) * 100) %&gt;%\n  filter(!is.na(couv_foret_2000), !is.na(dist_ville), !is.na(altitude), !is.na(indice_accidente))\n\nsummary(Vahatra_defor_noNA)\n\nVahatra_defor_noNA %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(Groupe, traitement) %&gt;%\n  summarise(effectif = n())\nCode\nVahatra_defor_noNA %&gt;%\n  st_drop_geometry() %&gt;%\n  group_by(Groupe) %&gt;%\n  summarize(`Nombre d'aires protégées` = n()) %&gt;%\n  gt() %&gt;%\n  tab_header(\"Observations par groupe avant appariemment\") %&gt;%\n  tab_source_note(\"Source : Association Vahatra et données GFC\")\n\n\n\n\n\n\n\n\nObservations par groupe avant appariemment\n\n\nGroupe\nNombre d'aires protégées\n\n\n\n\nContrôle\n53\n\n\nTraitement\n44\n\n\n\nSource : Association Vahatra et données GFC",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#exercice-intermédiaire",
    "href": "08_appariement.html#exercice-intermédiaire",
    "title": "8  Méthodes d’appariement",
    "section": "8.2 Exercice intermédiaire",
    "text": "8.2 Exercice intermédiaire\nAjoutez des variables d’intérêt et modifiez les paramètres de la fonction de matching.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#exercice-avancé",
    "href": "08_appariement.html#exercice-avancé",
    "title": "8  Méthodes d’appariement",
    "section": "8.3 Exercice avancé",
    "text": "8.3 Exercice avancé\nRéalisez une analyse analogue avec les données de feux. Rédigez une analyse interprétative.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#mesure-de-la-propension",
    "href": "08_appariement.html#mesure-de-la-propension",
    "title": "8  Méthodes d’appariement",
    "section": "8.2 Mesure de la propension",
    "text": "8.2 Mesure de la propension\nPour commencer, nous allons spécifier le modèle probit qui estime dans quelle mesure la propension pour une aire d’avoir été protégée avant 2015 dépend de sa taille, de son taux de couverture forestière en 2000, de son altitude, de son caractère accidenté et de sa distance d’une ville d’au moins 5000 habitants.\nCette spécification peut se représenter selon l’équation suivante qui représente un modèle probit. Un modèle probit, tout comme le logit, est un modèle de choix binaire.\n\n\nCode\n# Spécification du modèle probit\npscor &lt;- traitement ~  surface_ha + \n                       couv_foret_2000 + \n                       altitude +\n                       indice_accidente + \n                       dist_ville\n\n\nOn va maintenant réaliser une régression pour connaître l’influence de ces facteurs dans la désignation des aires comme protégées.\n\n\nCode\n# Régression probit\nreg_select &lt;- glm(formula = pscor,\n                  family = binomial(link = \"probit\"),\n                  data = Vahatra_defor_noNA)\n\nmatch_out1 &lt;- stargazer(reg_select, type = \"html\") \n\n\n\n\n\n\n\n\n\n\n\n\nDependent variable:\n\n\n\n\n\n\n\ntraitement\n\n\n\n\n\nsurface_ha\n-0.00000\n\n\n\n(0.00000)\n\n\n\n\n\n\ncouv_foret_2000\n0.001\n\n\n\n(0.005)\n\n\n\n\n\n\naltitude\n-0.0004\n\n\n\n(0.0004)\n\n\n\n\n\n\nindice_accidente\n0.005\n\n\n\n(0.030)\n\n\n\n\n\n\ndist_ville\n0.003***\n\n\n\n(0.001)\n\n\n\n\n\n\nConstant\n-0.547\n\n\n\n(0.343)\n\n\n\n\n\n\n\n\n\nObservations\n97\n\n\nLog Likelihood\n-60.920\n\n\nAkaike Inf. Crit.\n133.839\n\n\n\n\n\nNote:\n*p&lt;0.1; **p&lt;0.05; ***p&lt;0.01\n\n\n\n\n\n\n\nExercice : analysez ce résultat. Quels facteurs sont corrélés avec la désignation précoce comme aire protégée ?",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#appariement-sur-score-de-propension",
    "href": "08_appariement.html#appariement-sur-score-de-propension",
    "title": "8  Méthodes d’appariement",
    "section": "8.3 Appariement sur score de propension",
    "text": "8.3 Appariement sur score de propension\nOn va maintenant utiliser ce modèle pour comparer les aires protégées traitées en premier par rapport à celles traitées plus récemment.\n\n\nCode\n# Calcul du matching\ndef_00_14_match &lt;- matchit(formula = pscor,\n                           family = binomial(link = \"probit\"),\n                           method = \"nearest\",\n                           discard = \"both\",\n                           replace = FALSE,\n                           distance = \"glm\",\n                           data = Vahatra_defor_noNA)\n\nprint(def_00_14_match)\n\n\nA matchit object\n - method: 1:1 nearest neighbor matching without replacement\n - distance: Propensity score [common support]\n             - estimated with logistic regression\n - common support: units from both groups dropped\n - number of obs.: 97 (original), 78 (matched)\n - target estimand: ATT\n - covariates: surface_ha, couv_foret_2000, altitude, indice_accidente, dist_ville\n\n\nOn peut maintenant observer les équilibres entre les groupes traités et contrôle avant et après l’appariement.\n\n\nCode\nsummary(def_00_14_match)\n\n\n\nCall:\nmatchit(formula = pscor, data = Vahatra_defor_noNA, method = \"nearest\", \n    distance = \"glm\", discard = \"both\", replace = FALSE, family = binomial(link = \"probit\"))\n\nSummary of Balance for All Data:\n                 Means Treated Means Control Std. Mean Diff. Var. Ratio\ndistance                0.5143        0.4032          0.5970     1.9343\nsurface_ha          65093.8897    66539.7728         -0.0184     0.5595\ncouv_foret_2000        71.9537       62.1290          0.3384     0.6778\naltitude              589.4707      518.9928          0.1459     0.6982\nindice_accidente       11.0161        9.5870          0.2145     1.0678\ndist_ville            260.4379      147.0780          0.5255     2.4284\n                 eCDF Mean eCDF Max\ndistance            0.1840   0.3049\nsurface_ha          0.0993   0.2517\ncouv_foret_2000     0.0915   0.2333\naltitude            0.0943   0.2294\nindice_accidente    0.0729   0.1758\ndist_ville          0.1822   0.3263\n\nSummary of Balance for Matched Data:\n                 Means Treated Means Control Std. Mean Diff. Var. Ratio\ndistance                0.4666        0.4483          0.0983     1.1599\nsurface_ha          67525.2840    53400.1694          0.1799     0.9542\ncouv_foret_2000        70.1568       72.2206         -0.0711     0.8134\naltitude              563.7866      449.9603          0.2356     0.9791\nindice_accidente       10.6267        9.8470          0.1171     1.0674\ndist_ville            204.5025      168.8781          0.1651     0.9053\n                 eCDF Mean eCDF Max Std. Pair Dist.\ndistance            0.0404   0.1795          0.1149\nsurface_ha          0.1049   0.2564          1.0223\ncouv_foret_2000     0.0634   0.2051          0.8333\naltitude            0.0843   0.2308          1.0357\nindice_accidente    0.0550   0.1538          1.0324\ndist_ville          0.0941   0.2308          0.3906\n\nSample Sizes:\n          Control Treated\nAll            53      44\nMatched        39      39\nUnmatched       9       0\nDiscarded       5       5\n\n\n\nExercice : Étudiez les tables ci-dessus. Quel effet a eu l’appariement sur l’équilibre des variables entre le groupe de traitement et le groupe de contrôle ? Combien d’observations ont été écartées ?\n\nOn peut observer la distance entre groupe de traitement et de contrôle.\n\n\nCode\nplot(def_00_14_match, type = \"jitter\", interactive = FALSE)\n\n\n\n\n\n\n\n\n\nOn peut également représenter l’équilibre entre les variables avant et après traitement avec les graphiques suivants.\n\n\nCode\nbal.plot(def_00_14_match, var.name = \"dist_ville\", which = \"both\")\n\n\n\n\n\n\n\n\n\n\nExercice : Quel effet a eu l’appariement sur la variable de distance à la ville ? Les autres variables d’appariement produisent-elles un effet aussi visible ?",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#estimation-du-résultat-en-contrôlant-pour-les-variables-dappariement",
    "href": "08_appariement.html#estimation-du-résultat-en-contrôlant-pour-les-variables-dappariement",
    "title": "8  Méthodes d’appariement",
    "section": "8.4 Estimation du résultat en contrôlant pour les variables d’appariement",
    "text": "8.4 Estimation du résultat en contrôlant pour les variables d’appariement\nLe modèle qu’on utilise pour estimer l’impact est très proche de celui exposé ci-dessus, à la différence que la variable de traitement passe dans la partie droite, et qu’elle est remplacée par la déforestation.\n\n\nCode\n# Spécification du modèle pour l'impact\nestimp &lt;- taux_deforestation_2000_2014 ~   \n                          traitement +\n                          surface_ha + \n                          couv_foret_2000 + \n                          altitude +\n                          indice_accidente + \n                          dist_ville\n\n\nOn va donc réaliser une régression, en tenant compte des pondérations générées par l’algorithme d’appariement (variable “weight”).\n\n\nCode\n# On extrait les données de l'appariement\ndef_00_14_match_data &lt;- match.data(def_00_14_match)\n\n# Régression avec pondérations\ndef_00_14_match_est &lt;- lm(formula = estimp,\n                          data = def_00_14_match_data,\n                          weights = weights)\n\n# Présentation des résultats\nmatch_out2 &lt;- stargazer(def_00_14_match_est, type = \"html\")\n\n\n\n\n\n\n\n\n\n\n\n\nDependent variable:\n\n\n\n\n\n\n\ntaux_deforestation_2000_2014\n\n\n\n\n\ntraitement\n-0.278*\n\n\n\n(0.158)\n\n\n\n\n\n\nsurface_ha\n0.00000***\n\n\n\n(0.00000)\n\n\n\n\n\n\ncouv_foret_2000\n-0.001\n\n\n\n(0.003)\n\n\n\n\n\n\naltitude\n0.0001\n\n\n\n(0.0002)\n\n\n\n\n\n\nindice_accidente\n-0.009\n\n\n\n(0.017)\n\n\n\n\n\n\ndist_ville\n-0.001\n\n\n\n(0.001)\n\n\n\n\n\n\nConstant\n0.795***\n\n\n\n(0.228)\n\n\n\n\n\n\n\n\n\nObservations\n78\n\n\nR2\n0.156\n\n\nAdjusted R2\n0.084\n\n\nResidual Std. Error\n0.689 (df = 71)\n\n\nF Statistic\n2.184* (df = 6; 71)\n\n\n\n\n\nNote:\n*p&lt;0.1; **p&lt;0.05; ***p&lt;0.01",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  },
  {
    "objectID": "08_appariement.html#exercices",
    "href": "08_appariement.html#exercices",
    "title": "8  Méthodes d’appariement",
    "section": "8.5 Exercices",
    "text": "8.5 Exercices\n\n8.5.1 Exercice simple\nAnalysez, interprétez et critiquez les résultats ci-dessus.\n\n\n8.5.2 Exercice intermédiaire\nAjoutez des variables d’intérêt et modifiez les paramètres de la fonction de matching.\n\n\n8.5.3 Exercice avancé\nRéalisez une analyse analogue avec les données de feux. Rédigez une analyse interprétative.",
    "crumbs": [
      "<span class='chapter-number'>8</span>  <span class='chapter-title'>Méthodes d'appariement</span>"
    ]
  }
]